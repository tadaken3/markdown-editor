{"version":3,"sources":["webpack:///webpack/bootstrap 9649e855855659004dd6","webpack:///./src/main/createFileManager.js","webpack:///./src/main/createMainWindow.js","webpack:///./src/main/createPDFWindow.js","webpack:///./src/main/setAppMenu.js","webpack:///./src/main/showOpenFileDialog.js","webpack:///./src/main/showSaveAsNewFileDialog.js","webpack:///external \"fs\"","webpack:///./src/main/index.js","webpack:///external \"electron\""],"names":["FileManager","filePath","text","Promise","resolve","writeFileSync","readFileSync","saveFile","createFileManager","MainWindow","window","width","height","loadURL","__dirname","on","webContents","send","once","_e","createMainWindow","PDFWindow","show","e","returnValue","createPDFWindow","contents","fileManager","setAppMenu","options","template","label","submenu","accelerator","click","openFile","saveAsNewFile","exportPDF","role","getFocusedWindow","toggleDevTools","process","platform","unshift","quit","setApplicationMenu","buildFromTemplate","showOpenFileDialog","reject","files","showOpenDialog","title","properties","filters","name","extensions","length","showSaveAsNewFileDialog","file","showSaveDialog","mainWindow","console","log","then","readFile","sendText","catch","error","requestText","overwriteFile","all","pdfWindow","hasVisibleWindows"],"mappings":"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","file":"dist/main/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 197);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9649e855855659004dd6","import fs from \"fs\";\n\nclass FileManager {\n    constructor() {\n        this.filePath = \"\";\n    }\n    saveFile(filePath, text) {\n        return new Promise((resolve) => {\n            fs.writeFileSync(filePath, text);\n            this.filePath = filePath;\n            resolve();\n        });\n    }\n    readFile(filePath) {\n        return new Promise((resolve) => {\n            const text = fs.readFileSync(filePath, 'utf8');\n            this.filePath = filePath;\n            resolve(text);\n        });\n    }\n    overwriteFile(text) {\n        return this.saveFile(this.filePath, text);\n    }\n}\n\nfunction createFileManager() {\n    return new FileManager();\n}\n\nexport default createFileManager;\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/createFileManager.js","import { BrowserWindow, ipcMain } from \"electron\";\n\nclass MainWindow {\n    constructor() {\n        this.window = new BrowserWindow({ width: 800, height: 600 });\n        this.window.loadURL(`file://${__dirname}/../../index.html`);\n        this.window.on(\"close\", () => {\n            this.window = null;\n        });\n    }\n    requestText(){\n        return new Promise((resolve) => {\n            this.window.webContents.send(\"REQUEST_TEXT\");\n            ipcMain.once(\"REPLY_TEXT\",(_e, text) => resolve(text));\n        });\n    }\n    sendText(text){\n        this.window.webContents.send(\"SEND_TEXT\", text);\n    }\n}\n\nfunction createMainWindow() {\n    return new MainWindow();\n}\n\nexport default createMainWindow;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/createMainWindow.js","import { BrowserWindow } from \"electron\";\nimport { ipcMain } from \"electron\"\n\nclass PDFWindow {\n    constructor(text) {\n        this.window = new BrowserWindow({ show: true });\n        this.window.loadURL(`file://${__dirname}/../../pdf.html`);\n        ipcMain.once(\"REQUEST_TEXT\", (e) => {\n            e.returnValue = text;\n        });\n    }\n}\n\nfunction createPDFWindow(contents, fileManager) {\n    return new PDFWindow(contents, fileManager);\n}\n\nexport default createPDFWindow;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/createPDFWindow.js","import {app, Menu, BrowserWindow } from \"electron\";\n\nfunction setAppMenu(options) {\n    const template = [\n    {\n        label: \"File\",\n        submenu: [\n         { label: \"Open\", accelerator: \"CmdOrCtrl+O\", click: () => options.openFile() },\n         { label: \"Save\", accelerator: \"CmdOrCtrl+S\", click: () => options.saveFile() },\n         { label: \"Save As...\", click: () => options.saveAsNewFile() },\n         { label: \"Export PDF\", click: () => options.exportPDF() }\n        ]\n    },\n    {\n        label: \"Edit\",\n        submenu: [\n         { label: \"Copy\", accelerator: \"CmdOrCtrl+C\", role: \"copy\"},\n         { label: \"Paste\", accelerator: \"CmdOrCtrl+P\", role: \"paste\"},\n         { label: \"Cut\", accelerator: \"CmdOrCtrl+X\", role: \"cut\"},\n         { label: \"Select All\", accelerator: \"CmdOrCtrl+A\", role: \"selectall\"}\n        ]\n    },\n    {\n        label: \"View\",\n        submenu: [\n         { label: \"Toggle DevTools\",\n           accelerator: \"CmdOrCtrl+L\",\n           click: () => BrowserWindow.getFocusedWindow().toggleDevTools()\n         }\n        ]\n    }\n];\nif (process.platform === \"darwin\" ) {\n      template.unshift(\n         { label: \"MarkdownEditor\",\n            submenu: [\n                {label: \"Quit\",accelerator: \"CmdOrCtrl+Q\", click: () => app.quit()}\n            ]\n          }\n       );\n    }\n    Menu.setApplicationMenu(Menu.buildFromTemplate(template));\n}\nexport default setAppMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/setAppMenu.js","import { dialog } from \"electron\";\n\nfunction showOpenFileDialog() {\n    return new Promise((resolve, reject) => {\n        const files = dialog.showOpenDialog(\n            {\n                title: \"open\",\n                properties: [\"openFile\"],\n                filters: [\n                    { name: \"markdown file\", extensions: [ \"md\" ] }\n                ]\n            }\n       );\n\n       if (files && files.length > 0) {\n           resolve(files[0]);\n       } else {\n           reject();\n       }\n   });\n}\n\nexport default showOpenFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/showOpenFileDialog.js","import { dialog } from \"electron\";\n\nfunction showSaveAsNewFileDialog() {\n    return new Promise((resolve, reject) => {\n        const file = dialog.showSaveDialog(\n            {\n                title: \"save\",\n                filters: [{name: \"markdown file\", extensions:[ \"md\" ] } ]\n            }\n        );\n        if(file) {\n            resolve(file);\n        } else {\n            reject();\n        }\n    });\n}\n\nexport default showSaveAsNewFileDialog;\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/showSaveAsNewFileDialog.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 196\n// module chunks = 2","import { app } from \"electron\";\nimport createMainWindow from \"./createMainWindow\";\nimport setAppMenu from \"./setAppMenu\";\nimport showSaveAsNewFileDialog from \"./showSaveAsNewFileDialog\";\nimport createFileManager from \"./createFileManager\";\nimport showOpenFileDialog from \"./showOpenFileDialog\"\nimport createPDFWindow from \"./createPDFWindow\";\n\nlet mainWindow = null;\nlet fileManager = null;\n\nfunction openFile() {\n    console.log(\"openFile\");\n    showOpenFileDialog()\n        .then((filePath) => fileManager.readFile(filePath))\n        .then((text) => mainWindow.sendText(text))\n        .catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction saveFile() {\n    console.log(\"saveFile\");\n    if (!fileManager.filePath) {\n        saveAsNewFile();\n        return;\n    }\n    mainWindow.requestText()\n        .then((text) => fileManager.overwriteFile(text))\n        .catch((error) => {\n            console.log(error);\n        });\n}\n\nfunction saveAsNewFile() {\n    console.log(\"saveAsNewFile\")\n    Promise.all([ showSaveAsNewFileDialog(), mainWindow.requestText() ])\n    .then(([filePath, text]) => fileManager.saveFile(filePath, text))\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nfunction exportPDF() {\n    console.log(\"exportPDF\");\n    mainWindow.requestText()\n      .then((text) => {\n        const pdfWindow = createPDFWindow(text);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n}\n\napp.on(\"ready\", () => {\n    mainWindow = createMainWindow();\n    fileManager = createFileManager();\n    setAppMenu({ openFile, saveFile, saveAsNewFile, exportPDF });\n});\n\napp.on(\"window-all-closed\", () => {\n    if (process.platform !== \"darwin\"){\n        app.quit();\n    }\n});\n\napp.on(\"activate\",(_e, hasVisibleWindows) => {\n    if(!hasVisibleWindows) {\n        mainWindow = createMainWindow();\n    }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/index.js","module.exports = require(\"electron\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"electron\"\n// module id = 24\n// module chunks = 0 1 2"],"sourceRoot":""}